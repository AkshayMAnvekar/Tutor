module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/dist/",t(t.s=5)}([function(e,n){e.exports=require("express")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("xlsx")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("formidable")},function(e,n,t){t(6),e.exports=t(7)},function(e,n){e.exports=require("babel-polyfill")},function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(3),a=t.n(i),f=t(1),u=t.n(f),l=t(4),c=t.n(l),s=t(2),p=t.n(s);const d=t(8).pd,g=o()();g.use(u.a.urlencoded({extended:!1})),g.use(u.a.json());const b=process.cwd();function m(e){var n={};n.paramsArr=[];var t="",r="",o="",i="",a="";n.prob_tmp_name="zzzzzz";for(let n of e)try{if(n.A.includes("Error Table")){var f=n.C;if("D"in n&&"string"==typeof n.D){var u=n.D;if("number"!=typeof n.D)var l=u.replace(/\s/g,"").split(",")}"D"in n&&"number"==typeof n.D&&(l=n.D)}if(n.A.includes("Tutelage ID")&&(t=`<tutelage_tmpl name="${n.B}">`,r=`<tutelage_ref name="${n.B}">`,a=n.B),n.A.includes("Tutelage Variables")&&"B"in n){var c=n.B.replace(/\s/g,"").split(",");o="<params>";for(let e of c)o+=`<param name="${e}" type="int"/>`,i+=`<bind name="${e}" val="${e}"/>`;o+="</params>"}}catch(e){console.log(e)}return`${t}${o}${function(e,n,t,r){var o="";for(let i of e)"FIB"==t&&"E"in i&&(o+=`${y(i,n)}`),"MCQ"==t&&"E"in i&&(o+=`${$(i)}`),"FIB/MCQ"==t&&"E"in i&&r.includes("M",0)&&(console.log("Valid"),o+=`${$(i)}`),"FIB/MCQ"==t&&"E"in i&&!r.includes("M",0)&&(o+=`${y(i,n)}`);return o}(e,l,f,a)}</tutelage_tmpl>${r}${i}</tutelage_ref>`}function y(e,n){var t="";if("NA"!==e.B){if(t+=`<feedback name="${e.B}"><trigger>`,"number"!=typeof e.A)var r=e.A.replace(/\s/g,"").split(/[,;]/);if(r.length>=2){if("object"==typeof n&&"object"==typeof r)for(var o=0;o<r.length;o++)o<n.length?t+=`<cond><fib_ref name="fib${n[o]}"/>==${r[o]}</cond>`:t+=`<cond>${r[o]}</cond>`;if("number"==typeof n&&"object"==typeof r){t+=`<cond><fib_ref name="fib${n}"/>==${r[0]}</cond>`;for(o=1;o<r.length;o++)t+=`<cond>${r[o]}</cond>`}}else t+="number"==typeof n?`<cond><fib_ref name="fib${n}"/>==${r}</cond>`:`<cond>${r}</cond>`;return`${t}</trigger></feedback>`}return""}function $(e){var n="";return"NA"!==e.B?`${n+=`<feedback name = "${e.B}"><trigger><cond><choice_ref name ="${e.A}"/>==1</cond>`}</trigger></feedback>`:""}g.use(o.a.static(a.a.join(b,"public"))),g.get("/test",(e,n)=>{n.send("My page")}),g.get("/test1",(e,n)=>{n.send("My page 2")}),g.get("/getfile",(e,n)=>{console.log(e.query),n.send("My page 2")}),g.post("/getfile",(e,n)=>{(new c.a.IncomingForm).parse(e).on("file",function(e,t){let r=p.a.readFile(`${t.path}`),o="",i="",a=r.SheetNames;for(let e of a){o=p.a.utils.sheet_to_json(r.Sheets[e],{defVal:""}),console.log(o);let n=m(o);console.log(d.xml(n)),i+=m(o)}return n.send(d.xml(i))})}),g.get("*",(e,n)=>{n.send("My web page")});const v=process.env.PORT||3e3;g.listen(v)},function(e,n){e.exports=require("pretty-data")}]);