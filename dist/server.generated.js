module.exports=function(e){var n={};function r(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=n,r.d=function(e,n,o){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(o,t,function(n){return e[n]}.bind(null,t));return o},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/dist/",r(r.s=5)}([function(e,n){e.exports=require("express")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("xlsx")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("formidable")},function(e,n,r){r(6),e.exports=r(7)},function(e,n){e.exports=require("babel-polyfill")},function(e,n,r){"use strict";r.r(n);var o=r(0),t=r.n(o),a=r(3),i=r.n(a),c=r(1),f=r.n(c),l=r(4),d=r.n(l),g=r(2),u=r.n(g);const s=r(8).pd,b=t()();b.use(f.a.urlencoded({extended:!1})),b.use(f.a.json());const p=process.cwd();function $(e){var n={};n.paramsArr=[];var r="",o="",t="",a="",i="";n.prob_tmp_name="zzzzzz";for(let n of e)try{if(n.A.includes("Error Table")){var c=n.C.toUpperCase();if("D"in n&&"string"==typeof n.D){var f=n.D;if("number"!=typeof n.D)var l=f.replace(/\s/g,"").split(",")}"D"in n&&"number"==typeof n.D&&(l=n.D)}if(n.A.includes("Tutelage ID")&&(r=`<tutelage_tmpl name="${n.B}">`,o=`<tutelage_ref name="${n.B}">`,i=n.B),n.A.includes("Tutelage Variables")&&"B"in n){var d=n.B.replace(/\s/g,"").split(",");t="<params>";for(let e of d)t+=`<param name="${e}" type="int"/>`,a+=`<bind name="${e}" val="${e}"/>`;t+="</params>"}}catch(e){console.log(e)}return`${r}${t}${function(e,n,r,o){var t="";for(let a of e)"FIB"==r&&"E"in a&&(t+=`${m(a,n)}`),"MCQ"==r&&"E"in a&&(t+=`${A(a)}`),"FIB/MCQ"==r&&"E"in a&&o.includes("M",0)&&(console.log("Valid"),t+=`${A(a)}`),"FIB/MCQ"==r&&"E"in a&&!o.includes("M",0)&&(t+=`${m(a,n)}`),"SLOT"==r&&"E"in a&&(t+=`${B(a)}`),"NBL"==r&&"E"in a&&(t+=`${y(a)}`),"ARR"==r&&"E"in a&&(t+=`${k(a)}`),"AWS"==r&&"E"in a&&(t+=`${v(a)}`),"BOX"==r&&"E"in a&&(t+=`${x(a)}`),"TAPE"==r&&"E"in a&&(t+=`${h(a)}`),"BS"==r&&"E"in a&&(t+=`${_(a)}`);return t}(e,l,c,i)}</tutelage_tmpl>${o}${a}</tutelage_ref>`}function m(e,n){var r="";if("NA"!==e.B){if(r+=`<feedback name="${e.B}"><trigger>`,"Other"!==e.A){if("number"!=typeof e.A)var o=e.A.replace(/\s/g,"").split(/[,;]/);if(void 0!==o){if(o.length>=2&&"object"==typeof n&&"object"==typeof o)for(var t=0;t<o.length;t++)if(t<n.length)if(o[t].includes("Other")){if(o[t].includes("Other")){var a=o[t].match(/\[(.*?)\]/);null!=a&&(r+=`<cond><fib_ref name="fib${n[t]}"/>!=${a[1]}</cond>`)}}else r+=`<cond><fib_ref name="fib${n[t]}"/>==${o[t]}</cond>`;else r+=`<cond>${o[t]}</cond>`;if("number"==typeof n&&"object"==typeof o){r+=`<cond><fib_ref name="fib${n}"/>==${o[0]}</cond>`;for(t=1;t<o.length;t++)r+=`<cond>${o[t]}</cond>`}}else r+="number"==typeof n?`<cond><fib_ref name="fib${n}"/>==${o}</cond>`:`<cond>${o}</cond>`;return`${r}</trigger></feedback>`}return`${r}</trigger></feedback>`}return""}function A(e){var n="";return"NA"!==e.B?`${n+=`<feedback name = "${e.B}"><trigger><cond><choice_ref name ="${e.A}"/>==1</cond>`}</trigger></feedback>`:""}function B(e){var n="";if("NA"!==e.B){var r=e.A.split("≠");return`${n+=`<feedback name = "${e.B}"><trigger><cond>!<slot_ref name="${r[0].replace(/\s/g,"")}"/>.contains("${r[1].replace(/\s/g,"")}")</cond>`}</trigger></feedback>`}return""}function _(e){var n="";return"NA"!==e.B&&"Other"!==e.A?`${n+=`<feedback name = "${e.B}"><trigger><cond><boxing_shading_ref name=”shading1” />==${e.B}</cond>`}</trigger></feedback>`:"Other"==e.A?(n+=`<feedback name = "${e.B}">`,console.log("Function",n),`${n}</feedback>`):""}function y(e){var n="";return"NA"!==e.B&&"Other"!==e.A?(n+=`<feedback name = "${e.B}"><trigger><cond>!<number_line_ref name="nbl1"/>.contains("${e.A}")</cond>`,console.log("Function",e.A),`${n}</trigger></feedback>`):"Other"==e.A?(n+=`<feedback name = "${e.B}">`,console.log("Function",n),`${n}</feedback>`):""}function x(e){var n="";n="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var r=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(r),r[0].includes("group")?(n+=`<feedback name="${e.B}"><trigger><cond><boxing_ref name="Boxing1" field="group"/>== ${r[1]}</cond><cond><boxing_ref name="Boxing1" field="size"/>== ${r[3]}</cond></trigger></feedback>`,console.log(n)):r[2].includes("group")&&(n+=`<feedback name="${e.B}"><trigger><cond><boxing_ref name="Boxing1" field="group"/>== ${r[3]}</cond><cond><boxing_ref name="Boxing1" field="size"/>== ${r[1]}</cond></trigger></feedback>`,console.log(n))}"NA"!==e.B&&"Other"==e.A&&(n+=`<feedback name="${e.B}"></feedback>`,console.log(n))}return n}function k(e){var n="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var r=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(r),r[0].includes("row")?(n+=`<feedback name="${e.B}"><trigger><cond><array_ref name="Array1" field="row"/>== ${r[1]}</cond><cond><array_ref name="Array1" field="column"/>== ${r[3]}</cond></trigger></feedback>`,console.log(n)):r[2].includes("row")&&(n+=`<feedback name="${e.B}"><trigger><cond><array_ref name="Array1" field="row"/>== ${r[3]}</cond><cond><array_ref name="Array1" field="column"/>== ${r[1]}</cond></trigger></feedback>`,console.log(n))}"NA"!==e.B&&"Other"==e.A&&(n+=`<feedback name="${e.B}"></feedback>`,console.log(n))}return n}function v(e){var n="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var r=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(r),r[0].includes("row")?(n+=`<feedback name="${e.B}"><trigger><cond><boxing_array_ref name="BoxArr1" field="row"/>== ${r[1]} && <boxing_array_ref name="BoxArr1" field="column"/>== ${r[3]}</cond><cond><boxing_array_ref name="ba1" />.row * <boxing_array_ref name="ba1" />.column==${r[1]}*${r[3]}</cond></trigger></feedback>`,console.log(n)):r[2].includes("row")&&(n+=`<feedback name="${e.B}"><trigger><cond><boxing_array_ref name="BoxArr1" field="row"/>== ${r[3]} && <boxing_array_ref name="BoxArr1" field="column"/>== ${r[1]}</cond><cond><boxing_array_ref name="ba1" />.row * <boxing_array_ref name="ba1" />.column==${r[3]}*${r[1]}</cond></trigger></feedback>`,console.log(n))}"NA"!==e.B&&"Other"==e.A&&(n+=`<feedback name="${e.B}"></feedback>`,console.log(n))}return n}function h(e){var n="";n="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var r=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(r);let o=`"${r[1]}"`,t=[],a=parseInt(r[3]);for(;a>0;)t.push(o),--a;n+=`<feedback name="${e.B}"><trigger><cond><tape_ref name="tape1" />.inOrder(${t.toString()})</cond></trigger></feedback>`}"NA"!==e.B&&"Other"==e.A&&(n+=`<feedback name="${e.B}"></feedback>`,console.log(n))}return n}b.use(t.a.static(i.a.join(p,"public"))),b.get("/test",(e,n)=>{n.send("My page")}),b.get("/test1",(e,n)=>{n.send("My page 2")}),b.get("/getfile",(e,n)=>{console.log(e.query),n.send("My page 2")}),b.post("/getfile",(e,n)=>{(new d.a.IncomingForm).parse(e).on("file",function(e,r){let o=u.a.readFile(`${r.path}`),t="",a="",i=o.SheetNames;for(let e of i){t=u.a.utils.sheet_to_json(o.Sheets[e],{defVal:""}),console.log(t);let n=$(t);console.log(s.xml(n)),a+=$(t)}return n.send(s.xml(a))})}),b.get("*",(e,n)=>{n.send("My web page")});const O=process.env.PORT||3e3;b.listen(O)},function(e,n){e.exports=require("pretty-data")}]);