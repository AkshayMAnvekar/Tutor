module.exports=function(e){var r={};function n(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=e,n.c=r,n.d=function(e,r,o){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)n.d(o,t,function(r){return e[r]}.bind(null,t));return o},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="/dist/",n(n.s=5)}([function(e,r){e.exports=require("express")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("xlsx")},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("formidable")},function(e,r,n){n(6),e.exports=n(7)},function(e,r){e.exports=require("babel-polyfill")},function(e,r,n){"use strict";n.r(r);var o=n(0),t=n.n(o),a=n(3),c=n.n(a),i=n(1),f=n.n(i),l=n(4),d=n.n(l),g=n(2),s=n.n(g);const u=n(8).pd,b=t()();b.use(f.a.urlencoded({extended:!1})),b.use(f.a.json());const $=process.cwd();function p(e){var r={};r.paramsArr=[];var n="",o="",t="";r.prob_tmp_name="zzzzzz";for(let r of e)try{if("number"!=typeof r.A){if(r.A.includes("Error Table")){var a=r.C.toUpperCase();if("D"in r&&"string"==typeof r.D){var c=r.D;if("number"!=typeof r.D)var i=c.replace(/\s/g,"").split(",")}"D"in r&&"number"==typeof r.D&&(i=r.D)}if(r.A.includes("Tutelage ID")&&(n=`<tutelage_tmpl name="${r.B}">`,`<tutelage_ref name="${r.B}">`,t=r.B),r.A.includes("Tutelage Variables")&&"B"in r){var f=r.B.replace(/\s/g,"").split(",");o="<params>";for(let e of f)o+=`<param name="${e}" type="int"/>`,`<bind name="${e}" val="${e}"/>`;o+="</params>"}}}catch(e){console.log(e)}return`${n}${o}${function(e,r,n,o){var t="";for(let a of e)"FIB"==n&&"E"in a&&(t+=`${m(a,r)}`),"MCQ"==n&&"E"in a&&(t+=`${A(a)}`),"MANS"==n&&"E"in a&&(t+=`${B(a)}`),"FIB/MCQ"==n&&"E"in a&&o.includes("M",0)&&(console.log("Valid"),t+=`${A(a)}`),"FIB/MCQ"==n&&"E"in a&&!o.includes("M",0)&&(t+=`${m(a,r)}`),"SLOT"==n&&"E"in a&&(t+=`${_(a)}`),"NBL"==n&&"E"in a&&(t+=`${h(a)}`),"ARR"==n&&"E"in a&&(t+=`${v(a)}`),"AWS"==n&&"E"in a&&(t+=`${x(a)}`),"BOX"==n&&"E"in a&&(t+=`${y(a)}`),"TAPE"==n&&"E"in a&&(t+=`${O(a)}`),"BS"==n&&"E"in a&&(t+=`${k(a)}`),"BG"==n&&"E"in a&&(t+=`${E(a)}`),"LP"==n&&"E"in a&&(t+=`${N(a)}`);return t}(e,i,a,t)}</tutelage_tmpl>`}function m(e,r){var n="";if("NA"===e.B)return"";if(n+=`<feedback name="${e.B}"><trigger>`,"Other"===e.A||"_UNCOMMON"===e.B)return`${n=n.replace("<trigger>","")}</feedback>`;if("number"==typeof e.A)return`${n+=`<cond><fib_ref name="fib${r}"/>==${e.A}</cond>`}</trigger></feedback>`;if("number"==typeof ref&&!e.A.includes(",")&&!e.A.includes("FIB"))return`${n+=`<cond><fib_ref name="fib${r}"/>==${e.A}</cond>`}</trigger></feedback>`;if(!e.A.includes(",")&&e.A.includes("FIB"))return e.A=e.A.replace(/\s/g,""),e.A=e.A.replace(/(<FIB_)(\d)(>)/g,'<fib_ref name="fib$2"/>'),`${n+=`<cond>${e.A}</cond>`}</trigger></feedback>`;if(e.A.includes(",")){let a=e.A.replace(/\s/g,"").split(",");if("number"==typeof r){a[0].search("fib")?(a[0]=a[0].replace(/\s/g,""),a[0]=a[0].replace(/(<FIB_)(\d)(>)/g,'<fib_ref name="fib$2"/>'),n+=`<cond>${a[0]}</cond>`):n+=`<cond><fib_ref name="fib${r}"/>==${a[0]}</cond>`;for(var o=1;o<a.length;o++)a[o]=a[o].replace(/\s/g,""),a[o]=a[o].replace(/(<FIB_)(\d)(>)/g,'<fib_ref name="fib$2"/>'),n+=`<cond>${a[o]}</cond>`}else for(let e=0;e<a.length;e++)if(e<r.length&&!a[e].includes("FIB"))if(a[e].includes("Other")){if(a[e].includes("Other")){var t=a[e].match(/\[(.*?)\]/);null!=t&&(n+=`<cond><fib_ref name="fib${r[e]}"/>!=${t[1]}</cond>`)}}else n+=`<cond><fib_ref name="fib${r[e]}"/>==${a[e]}</cond>`;else a[e]=a[e].replace(/\s/g,""),a[e]=a[e].replace(/(<FIB_)(\d)(>)/g,'<fib_ref name="fib$2"/>'),n+=`<cond>${a[e]}</cond>`;return`${n}</trigger></feedback>`}}function A(e){var r="";return"NA"!==e.B?`${r+=`<feedback name = "${e.B}"><trigger><cond><choice_ref name ="${e.A}"/>==1</cond>`}</trigger></feedback>`:""}function B(e){var r="";if("NA"!==e.B){if("Other"===e.A||"_UNCOMMON"===e.B)return`${r=`<feedback name="${e.B}">`}</feedback>`;{let n=e.A.replace(/\s/g,"").split(",");r+=`<feedback name = "${e.B}"><trigger>`;for(let e=0;e<n.length;e++)r+=`<cond><choice_ref name ="C${e+1}"/>==${n[e]}</cond>`;return`${r}</trigger></feedback>`}}return""}function _(e){var r="";if("NA"!==e.B){var n=e.A.split("≠");return`${r+=`<feedback name = "${e.B}"><trigger><cond>!<slot_ref name="${n[0].replace(/\s/g,"")}"/>.contains("${n[1].replace(/\s/g,"")}")</cond>`}</trigger></feedback>`}return""}function k(e){var r="";return"NA"!==e.B&&"Other"!==e.A?`${r+=`<feedback name = "${e.B}"><trigger><cond><boxing_shading_ref name="shading1"/>==${e.A}</cond>`}</trigger></feedback>`:"Other"==e.A?(r+=`<feedback name = "${e.B}">`,console.log("Function",r),`${r}</feedback>`):""}function h(e){var r="";return"NA"!==e.B&&"Other"!==e.A?(r+=`<feedback name = "${e.B}"><trigger><cond><number_line_ref name="nbl1"/>.containsExactly("${e.A}")</cond>`,console.log("Function",e.A),`${r}</trigger></feedback>`):"Other"==e.A?(r+=`<feedback name = "${e.B}">`,console.log("Function",r),`${r}</feedback>`):""}function y(e){var r="";r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var n=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(n),n[0].includes("group")?(r+=`<feedback name="${e.B}"><trigger><cond><boxing_ref name="Boxing1" field="group"/>== ${n[1]}</cond><cond><boxing_ref name="Boxing1" field="size"/>== ${n[3]}</cond></trigger></feedback>`,console.log(r)):n[2].includes("group")&&(r+=`<feedback name="${e.B}"><trigger><cond><boxing_ref name="Boxing1" field="group"/>== ${n[3]}</cond><cond><boxing_ref name="Boxing1" field="size"/>== ${n[1]}</cond></trigger></feedback>`,console.log(r))}"NA"!==e.B&&"Other"==e.A&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}function v(e){var r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var n=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(n),n[0].includes("row")?(r+=`<feedback name="${e.B}"><trigger><cond><array_ref name="Array1" field="row"/>== ${n[1]}</cond><cond><array_ref name="Array1" field="column"/>== ${n[3]}</cond></trigger></feedback>`,console.log(r)):n[2].includes("row")&&(r+=`<feedback name="${e.B}"><trigger><cond><array_ref name="Array1" field="row"/>== ${n[3]}</cond><cond><array_ref name="Array1" field="column"/>== ${n[1]}</cond></trigger></feedback>`,console.log(r))}"NA"!==e.B&&"Other"==e.A&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}function x(e){var r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var n=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(n),n[0].includes("row")?(r+=`<feedback name="${e.B}"><trigger><cond><boxing_array_ref name="BoxArr1"/>.row== ${n[1]}</cond><cond><boxing_array_ref name="BoxArr1"/>.column== ${n[3]}</cond></trigger></feedback>`,console.log(r)):n[2].includes("row")&&(r+=`<feedback name="${e.B}"><trigger><cond><boxing_array_ref name="BoxArr1"/>.row== ${n[3]}</cond><cond><boxing_array_ref name="BoxArr1"/>.column== ${n[1]}</cond></trigger></feedback>`,console.log(r))}"NA"!==e.B&&"Other"==e.A&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}function O(e){var r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){var n=e.A.replace(/\s/g,"").split(/[,;=]/);console.log(n);let o=`"${n[3]}"`,t=[],a=parseInt(n[1]);for(;a>0;)t.push(o),--a;r+=`<feedback name="${e.B}"><trigger><cond><tape_ref name="tape1"/>.inOrder(${t.toString()})</cond></trigger></feedback>`}"NA"!==e.B&&"Other"==e.A&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}function E(e){var r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){r=`<feedback name="${e.B}"><trigger>`;var n=e.A.replace(/\s/g,"").split("||");r+="<cond>";for(let e=0;e<n.length;e++){var o=n[e].split("≠");console.log(o),r+=`<bar_ref name="bar1"/>.columnHeightAtXIndex(${o[0]})==${o[1]}`,e!==n.length-1&&(r+=" || ")}console.log(r),r+="</cond></trigger ></feedback >"}e.A.includes("Other")&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}function N(e){var r="";if("E"in e){if("NA"!==e.B&&"Other"!==e.A){r=`<feedback name="${e.B}"><trigger>`;var n=e.A.replace(/\s/g,"").split("||");r+="<cond>";for(let e=0;e<n.length;e++){var o=n[e].split("≠");console.log(o),r+=`<bar_ref name="bar1"/>.columCountAtXValue(${o[0]})==${o[1]}`,e!==n.length-1&&(r+=" || ")}console.log(r),r+="</cond></trigger ></feedback >"}e.A.includes("Other")&&(r+=`<feedback name="${e.B}"></feedback>`,console.log(r))}return r}b.use(t.a.static(c.a.join($,"public"))),b.get("/test",(e,r)=>{r.send("My page")}),b.get("/test1",(e,r)=>{r.send("My page 2")}),b.get("/getfile",(e,r)=>{console.log(e.query),r.send("My page 2")}),b.post("/getfile",(e,r)=>{(new d.a.IncomingForm).parse(e).on("file",function(e,n){let o=s.a.readFile(`${n.path}`),t="",a="",c=o.SheetNames;for(let e of c){t=s.a.utils.sheet_to_json(o.Sheets[e],{defVal:""}),console.log(t);let r=p(t);console.log(u.xml(r)),a+=p(t)}return r.send(u.xml(a))})}),b.get("*",(e,r)=>{r.send("My web page")});const M=process.env.PORT||3e3;b.listen(M)},function(e,r){e.exports=require("pretty-data")}]);